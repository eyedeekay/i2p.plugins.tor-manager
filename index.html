<!DOCTYPE html>
<html>
<head>
  <title>i2p.plugins.tor-manager - Tor Binary Manager</title>
  <link rel="stylesheet" type="text/css" href ="/style.css" />
</head>
<body>
<h1 id="i2p.plugins.tor-updater">i2p.plugins.tor-updater</h1>
<p>A Tor package updater and runner as an I2P Plugin. This plugin is usable on Windows, Linux, and OSX, as is the freestanding binary. This also functions as a freestanding update for the Tor Browser Bundle and is capable of configuring Tor Browser from the terminal and updating it without running it, should the user choose to operate this way.</p>
<h2 id="usage">Usage:</h2>
<p>See <a href="USAGE.md">Usage</a> for command-line usage. When used from the Terminal, it acts as a cross-platform Tor Browser installer and wrapper, which adds non-Tor specific options.</p>
<p><a href="usage.html">HTML version</a></p>
<h2 id="plugin">Plugin:</h2>
<p>Clearnet visitor? You’ll need to use the <a href="https://github.com/eyedeekay/i2p.plugins.tor-manager/releases/">Github Releases Mirror</a>.</p>
<ul>
<li><a href="/i2p.plugins.tor-manager-linux-386.su3">i2p.plugins.tor-manager-linux-386</a></li>
<li><a href="/i2p.plugins.tor-manager-windows-amd64.su3">i2p.plugins.tor-manager-windows-amd64</a></li>
<li><a href="/i2p.plugins.tor-manager-darwin-arm64.su3">i2p.plugins.tor-manager-darwin-arm64</a></li>
<li><a href="/i2p.plugins.tor-manager-linux-amd64.su3">i2p.plugins.tor-manager-linux-amd64</a></li>
<li><a href="/i2p.plugins.tor-manager-windows-386.su3">i2p.plugins.tor-manager-windows-386</a></li>
<li><a href="/i2p.plugins.tor-manager-darwin-amd64.su3">i2p.plugins.tor-manager-darwin-amd64</a></li>
</ul>
<h2 id="status">Status:</h2>
<figure>
<img src="screenshot-console.png" alt="" /><figcaption>Screenshot 2</figcaption>
</figure>
<p>Linux: Usable, everything implemented works. Windows: Usable, everything implemented works. OSX: Usable, everything implemented works.</p>
<p>Other systems are not targeted and should use a Tor binary built from source, provided by TPO or, their prefered package management system and not this plugin. The plugin will not start a Tor instance if a SOCKS proxy is open on port 9050.</p>
<figure>
<img src="screenshot-i2pbrowser.png" alt="" /><figcaption>Screenshot</figcaption>
</figure>
<h3 id="primary-goals">Primary Goals</h3>
<ol type="1">
<li>Ship known-good public keys, download a current Tor for the platform in the background, authenticate it, and launch it only if necessary.</li>
</ol>
<ul>
<li>Works on Windows, Linux, OSX</li>
</ul>
<ol start="2" type="1">
<li>Supervise Tor as a ShellService plugin to I2P</li>
</ol>
<ul>
<li>Works on Linux, Windows, OSX</li>
</ul>
<ol start="3" type="1">
<li>Keep Tor up-to-date</li>
</ol>
<ul>
<li>Works on Windows, Linux, OSX</li>
</ul>
<ol start="4" type="1">
<li>Work as an I2P Plugin OR as a freestanding app to be compatible with all I2P distributions</li>
</ol>
<ul>
<li>Works on Linux, Windows, OSX</li>
</ul>
<ol start="5" type="1">
<li>Download Tor Browser from an in-I2P mirror(or one of a network of in-I2P mirrors)</li>
</ol>
<ul>
<li>Not done</li>
</ul>
<h3 id="secondary-goals">Secondary Goals:</h3>
<ol type="1">
<li>Launch Tor Browser</li>
</ol>
<ul>
<li>Works on Linux, Windows, OSX</li>
</ul>
<ol start="2" type="1">
<li>Configure and launch Tor browser for use with I2P</li>
</ol>
<ul>
<li>Works on Linux, Windows, OSX</li>
</ul>
<h4 id="optional-features-i-might-add-if-there-is-interest">Optional Features I might add if there is interest</h4>
<ol type="1">
<li>Mirror the files which it downloads to an I2P Site</li>
</ol>
<ul>
<li>Works on Windows, Linux, OSX</li>
</ul>
<ol start="2" type="1">
<li>Mirror the files which it downloads to I2P torrents</li>
</ol>
<ul>
<li>Not done</li>
</ul>
<ol start="3" type="1">
<li>Set up an onion site which announces an I2P mirror exists</li>
</ol>
<ul>
<li>Not done</li>
</ul>
<ol start="4" type="1">
<li>Use Bittorrent-over-I2P to download the Tor Browser software</li>
</ol>
<ul>
<li>Not Done</li>
</ul>
<ol start="5" type="1">
<li>Import libi2pd and offer the use of an embedded i2pd router.</li>
</ol>
<ul>
<li>Not done.</li>
</ul>
<ol start="6" type="1">
<li>Option to use BRB in a thread as an in-I2P replacement for <code>mibbit</code> IRC client.</li>
</ol>
<ul>
<li>Not done.</li>
</ul>
<h3 id="usage-as-a-library">Usage as a Library</h3>
<p><a href="https://pkg.go.dev/i2pgit.org/idk/i2p.plugins.tor-manager">More information at the GoDoc</a></p>
<p>This is also useful as a library for downloading a Tor Browser Bundle. This API isn’t really stable, more “stabilizing.” Feel free to use it, but it may still change a little.</p>
<p>To create a new instance, use:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode go"><code class="sourceCode go"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a>client, err = tbserve.NewClient(*verbose, *lang, *system, *arch, &amp;content)</span></code></pre></div>
<p>Customize the client using the exposed variables and methods:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode go"><code class="sourceCode go"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a>client.Host = *host</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true"></a>client.Port = *port</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true"></a>client.TBS.Profile = &amp;content</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true"></a>client.TBS.PassThroughArgs = flag.Args()</span></code></pre></div>
<p>And serve the controller:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode go"><code class="sourceCode go"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true"></a><span class="kw">if</span> err := client.Serve(); err != <span class="ot">nil</span> {</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true"></a>  log.Fatal(err)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true"></a>}</span></code></pre></div>
<h3 id="similar-projects">Similar Projects:</h3>
<ul>
<li><a href="https://github.com/micahflee/torbrowser-launcher">https://github.com/micahflee/torbrowser-launcher</a></li>
<li><a href="https://github.com/whonix/tb-updater">https://github.com/whonix/tb-updater</a></li>
<li>Probably about 200 or so bespoke scripts written and abandoned by hackers over the years, search github</li>
</ul>
<h4 id="why-this-is-better-than-those-projectsa.k.a-why-didnt-you-just-use">Why this is Better than those projects(A.K.A Why didn’t you just use…)</h4>
<h5 id="torbrowser-launcher"><a href="https://github.com/micahfleee/torbrowser-launcher">TorBrowser Launcher</a></h5>
<p>i2p.plugins.tor-manager is in many ways a clone of Tor Browser Launcher by Micah Lee, it reproduces all of TBL’s functionality for downloading, verifying, and running Tor Browser. In particular Micah’s project deserves credit for the AppArmor profiles, which were used in the apparmor profile generator functionality and will probably continue to be the upstream example which I use in my code. Micah’s also already got a PPA, a FlatPak, a Snap, an <code>.rpm</code> and a bunch of other stuff that provides, through packaging, a better way to deal with updates to his software and a better way to deal with the supply chain for many users. There is no reason that <code>i2p.plugins.tor-manager</code> cannot do this, in fact it’s easier for us than it is for Micah, but this project is about a month and a half old and his is several years old. I haven’t done a bunch of packages yet.</p>
<p>Improvements on Tor Browser Launcher include:</p>
<ul>
<li>Does not require GPG to be in the <code>$PATH</code> or on the system at all</li>
<li>Capable of managing a long-running Tor service without also running the Tor Browser</li>
<li>Works everywhere Tor Browser does, not just Linux. Including: Linux, Mac, Windows, AMD64, X86, and M1</li>
<li>Embeds all required resources into a single binary which unpacks itself to a directory of the user’s choice. Never touches any other directory.</li>
<li>Easy to package by placing a single static binary into a boilerplate package.</li>
<li>Automatically generate an AppArmor profile which works for custom installation directory</li>
<li>Accepts a custom profile argument without interfering with normal Tor Browser functionality.</li>
<li>Bundles a “Extra” profiles for I2P browsing, non-Anonymous browsing, and offline/localhost-only browsing.</li>
<li>Automatically organize multiple Tor Browser profiles for different networks(I2P, Clearnet) and discourage accidental mixing.</li>
<li>Optional TAILS mode, adds uBlock Origin to Tor Browser</li>
<li>Embeds an i2pd router in case the host system doesn’t have an I2P router</li>
<li>No python. Language wars are stupid, but so is python.</li>
</ul>
<h4 id="tb-updaterwhonix"><a href="https://github.com/whonix/tb-updater">TB-Updater(Whonix)</a></h4>
<p>tb-updater is generally only useful on Linux systems and especially Debian-based systems, and only recieves serious testing within the Whonix system itself. It’s a highly specialized tool in some ways, depending on packages which must be installed and repositories which must be configured. For their purposes, this is probably a good thing, Whonix’s raison d’etre is to carefully configure every aspect of their system to be as anonymous and secure as possible, and their approach deals with supply-chain issues which <code>i2p.plugins.tor-manager</code> can only deal with in <strong>packaging</strong> and not by adding features to the launcher itself. Therefore, while most of the improvements on Tor Browser Launcher also apply to TB-Updater, the <code>i2p.plugins.tor-manager</code> and <code>tb-launcher</code> are actually less directly comparable.</p>
<p><a href="https://www.flaticon.com/free-icons/garlic" title="garlic icons">Garlic icons created by Icongeek26 - Flaticon</a> <a href="https://www.flaticon.com/free-icons/onion" title="onion icons">Onion icons created by Freepik - Flaticon</a></p>
<h3 id="more-screenshots">More Screenshots:</h3>
<ul>
<li><img src="screenshot.png" title="fig:" alt="Screenshot" /></li>
<li><img src="screenshot-dark.png" title="fig:" alt="Screenshot" /></li>
</ul>
</body>
</html>
